{% extends 'NumaDOADMSBundle::layout.html.twig' %}
 
{% block content %}
    <div class="page-header">
        <h1>Dashboard</h1>
    </div>
    <div class="row">
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-aqua">
                <div class="inner">
                    <h3>{{ stats.totalListings }}</h3>
                    <p>Listings</p>
                </div>
                <div class="icon">
                    <i class="fa fa-truck"></i>
                </div>
                <a class="small-box-footer" href="{{ path('inventory') }}">
                    More info
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-green">
                <div class="inner">
                    <h3>{{ pages }}</h3>
                    <p>Pages</p>
                </div>
                <div class="icon">
                    <i class="fa fa-laptop"></i>
                </div>
                <a class="small-box-footer" href="{{ path('dms_page') }}">
                    More info
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-yellow">
                <div class="inner">
                    <h3>{{ customers }}</h3>
                    <p>Customers</p>
                </div>
                <div class="icon">
                    <i class="fa fa-users"></i>
                </div>
                <a class="small-box-footer" href="{{ path('customer') }}">
                    More info
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-red">
                <div class="inner">
                    <h3>&nbsp;
                    </h3>
                    <p>Content</p>
                </div>
                <div class="icon">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                <a class="small-box-footer" href="{{ path('component') }}">
                    More info
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
    </div>
    {% if not is_granted('ROLE_ADMIN') %}
        {% include 'NumaDOADMSBundle:Default:websiteForms.html.twig' %}
    {% endif %}

    <div class="row">
        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 clearfix">
            <div class="box box-danger box-solid">
                <div class="box-header with-border">
                    <h3 class="box-title">ALL LISTINGS</h3>
                </div>
                <div class="box-body" style="display: block;">
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalListings }}</h5>
                        <span class="description-text">TOTAL LISTINGS</span>
                    </div>
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalViews }}</h5>
                        <span class="description-text">TOTAL VIEWS</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12  clearfix">
            <div class="box box-danger box-solid">
                <div class="box-header with-border">
                    <h3 class="box-title">CAR LISTINGS</h3>
                </div>
                <div class="box-body" style="display: block;">
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalCarListings }}</h5>
                        <span class="description-text">CAR LISTINGS</span>
                    </div>
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalCarViews }}</h5>
                        <span class="description-text">CAR VIEWS</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 clearfix">
            <div class="box box-danger box-solid">
                <div class="box-header with-border">
                    <h3 class="box-title">MOTO LISTINGS</h3>
                </div>
                <div class="box-body" style="display: block;">
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalMotoListings }}</h5>
                        <span class="description-text">MOTO LISTINGS</span>
                    </div>
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalMotoViews }}</h5>
                        <span class="description-text">MOTO VIEWS</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 clearfix">
            <div class="box box-danger box-solid">
                <div class="box-header with-border">
                    <h3 class="box-title">MARINE</h3>
                </div>
                <div class="box-body" style="display: block;">
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalMarineListings }}</h5>
                        <span class="description-text">MARINE LISTINGS</span>
                    </div>
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalMarineViews }}</h5>
                        <span class="description-text">MARINE VIEWS</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 clearfix">
            <div class="box box-danger box-solid">
                <div class="box-header with-border">
                    <h3 class="box-title">AG LISTINGS</h3>
                </div>
                <div class="box-body" style="display: block;">
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalAgsListings }}</h5>
                        <span class="description-text">AG LISTINGS</span>
                    </div>
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalAgsViews }}</h5>
                        <span class="description-text">AG VIEWS</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 clearfix">
            <div class="box box-danger box-solid">
                <div class="box-header with-border">
                    <h3 class="box-title">RVs LISTINGS</h3>
                </div>
                <div class="box-body" style="display: block;">
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalRvsListings }}</h5>
                        <span class="description-text">RVs LISTINGS</span>
                    </div>
                    <div class="description-block border-right">
                        <h5 class="description-header">{{ stats.totalRvsViews }}</h5>
                        <span class="description-text">Rvs VIEWS</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {#<script src="https://code.highcharts.com/highcharts.js"></script>#}
    {#<script src="https://code.highcharts.com/modules/exporting.js"></script>#}

    {#<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>#}
    {#<div id="container1" style="min-width: 310px; height: 400px; margin: 20px auto"></div>#}

    {#<script>#}
        {#$(document).ready(function () {#}

            {#var options = {#}
                {#chart: {#}
                    {#renderTo: 'container',#}
                    {#type: 'spline'#}
                {#},#}
                {#series: [{}],#}
                {#title: {#}
                    {#text: 'Visitors On Site',#}
                    {#x: -20 //center#}
                {#},#}
                {#xAxis: {#}
                    {#categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',#}
                        {#'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']#}
                {#},#}
                {#yAxis: {#}
                    {#title: {#}
                        {#text: 'Visitors'#}
                    {#},#}
                    {#plotLines: [{#}
                        {#value: 0,#}
                        {#width: 1,#}
                        {#color: '#808080'#}
                    {#}]#}
                {#},#}
                {#legend: {#}
                    {#layout: 'vertical',#}
                    {#align: 'right',#}
                    {#verticalAlign: 'middle',#}
                    {#borderWidth: 0#}
                {#},#}

            {#};#}

            {#$.getJSON('{{ path("stats_api_month") }}', function (data) {#}
                {#var d = new Date();#}
                {#var n = d.getFullYear();#}
                {#options.series[0].name = n;#}
                {#options.series[0].data = data;#}
                {#var chart = new Highcharts.Chart(options);#}
            {#});#}

        {#});#}

        {#$(document).ready(function () {#}

            {#var options = {#}
                {#chart: {#}
                    {#renderTo: 'container1',#}
                    {#type: 'column'#}
                {#},#}
                {#series: [{}],#}
                {#title: {#}
                    {#text: 'Visitors On Site Last 30 Days',#}
                    {#x: -20 //center#}
                {#},#}
                {#yAxis: {#}
                    {#title: {#}
                        {#text: 'Visitors'#}
                    {#},#}
                    {#plotLines: [{#}
                        {#value: 0,#}
                        {#width: 1,#}
                        {#color: '#808080'#}
                    {#}]#}
                {#},#}
                {#legend: {#}
                    {#layout: 'vertical',#}
                    {#align: 'right',#}
                    {#verticalAlign: 'middle',#}
                    {#borderWidth: 0#}
                {#},#}

            {#};#}

            {#$.getJSON('{{ path("stats_api_day") }}', function (data) {#}
                {#var d = new Date();#}
                {#var n = d.getFullYear();#}
                {#options.series[0].name = n;#}
                {#options.series[0].data = data;#}
                {#var chart = new Highcharts.Chart(options);#}
            {#});#}

        {#});#}

    {#</script>#}
{% endblock %}