{% extends 'NumaDOADMSBundle::layout.html.twig' %}
{% block content %}
    <div class="box">
        <div class="box-header">
            <h3 class="box-title">Theme chooser</h3>

        </div>
    </div>
    {#<div class="box-body">#}
        {#<form action="{{ path('dms_themes') }}">#}
            {#<select name="theme">#}
                {#<option value="Default">Default</option>#}
                {#<option value="Sea">Sea</option>#}
            {#</select>#}
            {#<input class="btn btn-primary" type="submit" value="Switch Theme"/>#}
        {#</form>#}
{#<div>Current theme is : {{ theme }}</div>#}

        <div class="col-md-6 theme {% if theme == "Default" %}themeactive{% endif %}" id="theme1" data-name="Default">
            <img src="{{ asset('images/themes/theme1.jpg') }}" style="width: 480px; height: 300px;">
            <h4>Default Theme</h4>
            <span class="{% if theme != "Default" %}hidden{% endif %} glyphicon glyphicon-ok"></span>
        </div>
        <div class="col-md-6 theme {% if theme == "Sea" %}themeactive{% endif %}" id="theme2" data-name="Sea">
            <img src="{{ asset('images/themes/theme2.jpg') }}" style="width: 480px; height: 300px;">
            <h4>Sea Theme</h4>
            <span class="{% if theme != "Sea" %}hidden{% endif %} glyphicon glyphicon-ok"></span>

        </div>

    <script>
        $(document).ready(function(){
            $(".theme").click(function(){
                console.log(this);
                $(".theme").removeClass("themeactive");
                $(this).addClass("themeactive");
                $(".theme > .glyphicon").addClass("hidden");
                $(".themeactive > .glyphicon").removeClass("hidden");

                name = $(this).data("name");
                console.log(name);
                $.ajax(
                        {
                            url: "{{ path('dms_change_themes') }}",
                            type: "POST",
                            data: {"theme":name},
                            success: function(data, textStatus, jqXHR)
                            {
                                //alert(theme);
                                //console.log (theme);
                                //location.reload();
                            },
                            error: function(jqXHR, textStatus, errorThrown)
                            {
                                alert("Error");
                            }
                        });
            });
        });

        {#$(document).ready(function(){#}
            {#$("#theme2").click(function(){#}
                {#$("#theme2").css('border', '1px solid black');#}
                {#$("#theme2").css('border-radius', '10px');#}
                {#$("#theme1").css('border', 'none');#}
                {#$.ajax(#}
                        {#{#}
                            {#url: "{{ path('dms_change_themes') }}",#}
                            {#type: "POST",#}
                            {#data: {"theme":'Sea'},#}
                            {#success: function(data, textStatus, jqXHR)#}
                            {#{#}
                                {#//alert(theme);#}
                                {#//console.log (theme);#}
                                {#location.reload();#}
                            {#},#}
                            {#error: function(jqXHR, textStatus, errorThrown)#}
                            {#{#}
                                {#alert("Error");#}
                            {#}#}
                        {#});#}
            {#});#}
        {#});#}
    </script>

{% endblock %}