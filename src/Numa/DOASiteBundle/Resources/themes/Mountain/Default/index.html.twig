{% extends 'NumaDOASiteBundle::home-layout.html.twig' %}
{% import "NumaDOASiteBundle::components.html.twig" as component %}
{% block headline %}
    <div class="header">
        <a class="logo" href="">
            {{ component.image(dealer.logoUrl, dealer.name, '', 'sea_logo_home') }}
        </a>
        <div class="contact-info">
            <div class="address">{{ dealer.address }} &middot; {{ dealer.city }}, {{ dealer.state }}
            </div>
            <a class="map-and-hours" href="{{ path('site_page',{'url':"map"}) }}">Map &amp; Hours</a>
            <div class="phone">{{ dealer.phone }}</div>
        </div>
    </div>
{% endblock %}
{% block banner %}

    {% set images_left = displayComponent("homepage_left_carousel","carousel") %}
    {% set images_right = displayComponent("homepage_right_carousel","carousel") %}

    <div class="bs-carousels clearfix">
        <div id="myCarousel_left" class="carousel slide carousel-fade" data-ride="carousel">
            <!-- Carousel indicators -->
            <ol class="carousel-indicators">
                {% for image in images_left %}
                    <li data-target="#myCarousel_left" data-slide-to="{{ loop.index }}" class="{% if loop.first %}active{% endif %}"></li>
                {% endfor %}

            </ol>
            <!-- Wrapper for carousel items -->
            <div class="carousel-inner">
                {% for image in images_left %}
                <div class="item {%  if loop.first %} active{% endif %}">
                    {{ component.image('upload/dealers/'~image.src, "", '', 'carousel_mountain') }}
                    {% if image.carouselText is not empty %}
                        <div class="carousel-text">{{ image.carouselText|raw }}</div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            <!-- Carousel controls -->
            <a class="carousel-control left" href="#myCarousel_left" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </a>
            <a class="carousel-control right" href="#myCarousel_left" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
            </a>
        </div>

        <div id="myCarousel_right" class="carousel slide carousel-fade" data-ride="carousel">
            <!-- Carousel indicators -->
            <ol class="carousel-indicators">
                {% for image in images_right %}
                    <li data-target="#myCarousel_right" data-slide-to="{{ loop.index }}" class="{% if loop.first %}active{% endif %}"></li>
                {% endfor %}

            </ol>
            <!-- Wrapper for carousel items -->
            <div class="carousel-inner">
                {% for image in images_right %}
                    <div class="item {%  if loop.first %} active{% endif %}">
                        {{ component.image('upload/dealers/'~image.src, "", '', 'carousel_mountain') }}
                        {% if image.carouselText is not empty %}
                            <div class="carousel-text">{{ image.carouselText|raw }}</div>
                        {% endif %}
                    </div>
                {% endfor %}

            </div>
            <!-- Carousel controls -->
            <a class="carousel-control left" href="#myCarousel_right" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </a>
            <a class="carousel-control right" href="#myCarousel_right" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
            </a>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function(){
            $("#myCarousel").carousel({
                interval : 8000,
                pause: false
            });
        });
    </script>
{% endblock %}
{% block content %}
    <div class="content">
        <h1>Welcome to {{ dealer.name }}</h1>
        {{ dealer.description|raw }}

        {#{{ displayComponent('welcome_text',"HTML")|raw }}#}
    </div>
    </div>
{% endblock %}

{% block info %}
    <div class="info">
        <ul>
            <li>{{ component.image(dealer.logoUrl, dealer.name, '', 'sea_logo_home') }}</li>
            <li>
                <h2>{{ dealer.name }}</h2>

                <div class="address">
                    {{ dealer.address }}<br>
                    {{ dealer.city }}, {{ dealer.state }} {#Â· S7B 2K4#}
                </div>
                <div class="phone">
                    <span>Phone:</span> {{ dealer.phone }}<br>
                </div>
            </li>
            <li>
                {{ dealer.ServiceHours|raw }}
            </li>
            <li>
                {{ displayComponent('quick_links',"HTML","dealer")|raw }}
            </li>
        </ul>
    </div>
{% endblock %}

{% block browse %}
    {% set browse_images = displayComponent("browse_icons","carousel") %}
    <div class="browse">
        <ul>
            <li><h2><span>Browse</span> by Type</h2></li>
            {% for image in browse_images %}
                <li>
                    <a class="" href="{{ image.url }}">
                        {{ component.image('upload/dealers/'~image.src, "", '', 'mountain_browse') }}
                        <span class="browse_icon_text">{{ image.carouselText|striptags }}</span>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}


{% block featuredads %}
    {{ render_esi(controller('NumaDOASiteBundle:Default:featuredAdd', { 'max': 6,'order':1 })) }}
{% endblock %}